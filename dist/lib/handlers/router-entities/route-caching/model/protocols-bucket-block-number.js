/**
 * Class used to model the sort key of the CachedRoutes cache database.
 */
export class ProtocolsBucketBlockNumber {
    constructor({ protocols, bucket, blockNumber }) {
        this.protocols = protocols.sort();
        this.bucket = bucket;
        this.blockNumber = blockNumber;
    }
    fullKey() {
        if (this.blockNumber === undefined) {
            throw Error("BlockNumber is necessary to create a fullKey");
        }
        return `${this.protocols}/${this.bucket}/${this.blockNumber}`;
    }
    protocolsBucketPartialKey() {
        return `${this.protocols}/${this.bucket}/`;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG9jb2xzLWJ1Y2tldC1ibG9jay1udW1iZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9saWIvaGFuZGxlcnMvcm91dGVyLWVudGl0aWVzL3JvdXRlLWNhY2hpbmcvbW9kZWwvcHJvdG9jb2xzLWJ1Y2tldC1ibG9jay1udW1iZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUE7O0dBRUc7QUFDSCxNQUFNLE9BQU8sMEJBQTBCO0lBS3JDLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFdBQVcsRUFBa0M7UUFDNUUsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbEMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7UUFDckIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7SUFDakMsQ0FBQztJQUVNLE9BQU87UUFDWixJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUyxFQUFFO1lBQ2xDLE1BQU0sS0FBSyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7U0FDN0Q7UUFFRCxPQUFPLEdBQUcsSUFBSSxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUNoRSxDQUFDO0lBRU0seUJBQXlCO1FBQzlCLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQztJQUM3QyxDQUFDO0NBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcm90b2NvbCB9IGZyb20gXCJAdm90b3BpYS9zZGstY29yZVwiO1xuXG5pbnRlcmZhY2UgUHJvdG9jb2xzQnVja2V0QmxvY2tOdW1iZXJBcmdzIHtcbiAgcHJvdG9jb2xzOiBQcm90b2NvbFtdO1xuICBidWNrZXQ6IG51bWJlcjtcbiAgYmxvY2tOdW1iZXI/OiBudW1iZXI7XG59XG5cbi8qKlxuICogQ2xhc3MgdXNlZCB0byBtb2RlbCB0aGUgc29ydCBrZXkgb2YgdGhlIENhY2hlZFJvdXRlcyBjYWNoZSBkYXRhYmFzZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFByb3RvY29sc0J1Y2tldEJsb2NrTnVtYmVyIHtcbiAgcHVibGljIHJlYWRvbmx5IHByb3RvY29sczogUHJvdG9jb2xbXTtcbiAgcHVibGljIHJlYWRvbmx5IGJ1Y2tldDogbnVtYmVyO1xuICBwdWJsaWMgcmVhZG9ubHkgYmxvY2tOdW1iZXI/OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IoeyBwcm90b2NvbHMsIGJ1Y2tldCwgYmxvY2tOdW1iZXIgfTogUHJvdG9jb2xzQnVja2V0QmxvY2tOdW1iZXJBcmdzKSB7XG4gICAgdGhpcy5wcm90b2NvbHMgPSBwcm90b2NvbHMuc29ydCgpO1xuICAgIHRoaXMuYnVja2V0ID0gYnVja2V0O1xuICAgIHRoaXMuYmxvY2tOdW1iZXIgPSBibG9ja051bWJlcjtcbiAgfVxuXG4gIHB1YmxpYyBmdWxsS2V5KCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuYmxvY2tOdW1iZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgRXJyb3IoXCJCbG9ja051bWJlciBpcyBuZWNlc3NhcnkgdG8gY3JlYXRlIGEgZnVsbEtleVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYCR7dGhpcy5wcm90b2NvbHN9LyR7dGhpcy5idWNrZXR9LyR7dGhpcy5ibG9ja051bWJlcn1gO1xuICB9XG5cbiAgcHVibGljIHByb3RvY29sc0J1Y2tldFBhcnRpYWxLZXkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7dGhpcy5wcm90b2NvbHN9LyR7dGhpcy5idWNrZXR9L2A7XG4gIH1cbn1cbiJdfQ==